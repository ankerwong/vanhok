# 测试指南

## 🧪 功能测试清单

本文档用于测试系统的所有新增功能，确保一切正常工作。

---

## 1️⃣ 数据保存与恢复测试

### 测试1.1：答题自动保存
**步骤：**
1. 打开测试页面
2. 填写姓名和电话，开始测试
3. 答几道题（至少5题）
4. **按F5刷新页面**

**预期结果：**
- ✅ 弹出对话框："检测到您有未完成的测试，是否继续？"
- ✅ 有两个选项："确定"（继续）和"取消"（重新开始）

### 测试1.2：恢复测试进度
**步骤：**
1. 在上述对话框中点击"确定"

**预期结果：**
- ✅ 显示提示："已恢复您的测试进度！"
- ✅ 返回到上次答题的位置
- ✅ 之前选择的答案都还在
- ✅ 答题卡显示已答题目
- ✅ 剩余时间准确

### 测试1.3：重新开始测试
**步骤：**
1. 再次刷新页面
2. 在对话框中点击"取消"

**预期结果：**
- ✅ 返回欢迎页面
- ✅ 之前的答题记录被清除
- ✅ 可以重新开始新的测试

### 测试1.4：提交后清除进度
**步骤：**
1. 完成测试并提交
2. 刷新页面

**预期结果：**
- ✅ 不再弹出恢复进度对话框
- ✅ 直接显示欢迎页面

---

## 2️⃣ 页面保护测试

### 测试2.1：关闭页面确认
**步骤：**
1. 开始测试并答几道题
2. 尝试关闭浏览器标签页（Ctrl+W 或点击关闭按钮）

**预期结果：**
- ✅ 浏览器弹出确认对话框
- ✅ 提示："测试正在进行中，确定要离开吗？您的答题进度已自动保存。"
- ✅ 可以选择"离开"或"留下"

### 测试2.2：浏览器后退保护
**步骤：**
1. 在测试页面
2. 点击浏览器的后退按钮（或按Alt+←）

**预期结果：**
- ✅ 页面不会后退
- ✅ 弹出提示："测试进行中不能使用浏览器后退按钮！您的答题进度已自动保存。"

### 测试2.3：提交后可正常关闭
**步骤：**
1. 完成测试并提交
2. 尝试关闭页面

**预期结果：**
- ✅ 不再弹出确认对话框
- ✅ 页面正常关闭

---

## 3️⃣ 邮件发送测试

### 测试3.1：完成测试
**步骤：**
1. 开始测试
2. 完成所有140道题（或快速点击随机答案）
3. 点击"提交测评"

**预期结果：**
- ✅ 显示加载提示："正在提交测试结果，请稍候..."
- ✅ 有旋转的加载图标
- ✅ 几秒后自动进入结果页面

### 测试3.2：检查邮箱
**步骤：**
1. 打开邮箱：1003150716@qq.com
2. 查看收件箱（可能需要等待1-2分钟）
3. 如果没有，检查垃圾邮件文件夹

**预期结果：**
- ✅ 收到邮件，主题包含"新教师入职测评报告"
- ✅ 邮件包含考生姓名
- ✅ 邮件显示所有得分数据
- ✅ 包含详细的文本报告

### 测试3.3：验证邮件内容
**步骤：**
打开收到的邮件，检查内容

**预期结果：**
- ✅ 考生信息（姓名、电话、测试时间）
- ✅ 综合得分显示正确
- ✅ 五大能力得分都存在且合理（0-100）
- ✅ Big Five特质百分比都存在（0-100%）
- ✅ 详细报告包含评语和建议
- ✅ 邮件格式美观，易于阅读

---

## 4️⃣ 保密性测试

### 测试4.1：提交后无法看到得分
**步骤：**
1. 完成测试并提交
2. 观察结果页面

**预期结果：**
- ✅ 看到绿色的成功图标（✓）
- ✅ 显示"测试提交成功！"
- ✅ 不显示任何具体分数
- ✅ 不显示雷达图
- ✅ 不显示详细得分
- ✅ 不显示性格分析

### 测试4.2：显示正确的提示信息
**步骤：**
查看提交成功页面的内容

**预期结果：**
- ✅ 提示感谢完成测试
- ✅ 说明结果已提交至系统
- ✅ 告知报告已发送至招聘单位邮箱
- ✅ 显示联系电话
- ✅ 说明3-5个工作日内会联系
- ✅ 有"返回首页"按钮

### 测试4.3：无法通过开发者工具查看
**步骤：**
1. 按F12打开开发者工具
2. 查看页面元素

**预期结果：**
- ✅ 得分相关的HTML元素已被隐藏或删除
- ✅ 无法通过修改CSS看到隐藏内容
- ✅ localStorage中的测试进度已清除

---

## 5️⃣ 答题卡功能测试

### 测试5.1：答题状态更新
**步骤：**
1. 开始测试
2. 答几道题
3. 观察右侧答题卡

**预期结果：**
- ✅ 已答题目显示蓝色背景
- ✅ 当前题目有蓝紫色边框
- ✅ 未答题目保持灰色

### 测试5.2：快速跳转
**步骤：**
1. 点击答题卡上的任意题号

**预期结果：**
- ✅ 立即跳转到对应题目
- ✅ 显示正确的题目内容
- ✅ 如果之前答过，显示之前的答案

---

## 6️⃣ 计时器测试

### 测试6.1：正常计时
**步骤：**
1. 开始测试
2. 观察顶部的倒计时

**预期结果：**
- ✅ 显示"60:00"
- ✅ 每秒递减
- ✅ 格式正确（MM:SS）

### 测试6.2：刷新后时间恢复
**步骤：**
1. 测试进行5分钟后刷新
2. 选择继续测试

**预期结果：**
- ✅ 剩余时间约为55分钟
- ✅ 继续正常计时

### 测试6.3：最后5分钟警告
**步骤：**
1. 等待时间低于5分钟（或修改代码测试）

**预期结果：**
- ✅ 计时器变为红色
- ✅ 继续正常计时

---

## 7️⃣ 不同题型测试

### 测试7.1：选择题
**步骤：**
1. 在认知能力、情绪智力等模块答题

**预期结果：**
- ✅ 点击选项后，该选项变为蓝色
- ✅ 其他选项恢复灰色
- ✅ 答案自动保存

### 测试7.2：李克特量表
**步骤：**
1. 在性格特质模块答题（第56-105题）

**预期结果：**
- ✅ 显示5个横向选项
- ✅ 选项标签："非常不同意"到"非常同意"
- ✅ 点击后选项变为蓝色
- ✅ 答案自动保存

---

## 8️⃣ 移动端测试（可选）

### 测试8.1：响应式布局
**步骤：**
1. 在手机或平板上打开
2. 或按F12，切换到移动设备视图

**预期结果：**
- ✅ 页面自动适配屏幕
- ✅ 所有元素可见
- ✅ 触摸操作正常

---

## 9️⃣ 边界情况测试

### 测试9.1：跳题提醒
**步骤：**
1. 不答当前题
2. 直接点击"下一题"

**预期结果：**
- ✅ 弹出确认对话框
- ✅ 提示："您还没有回答这道题，确定要跳过吗？"

### 测试9.2：时间到自动提交
**步骤：**
1. 等待60分钟（或修改代码缩短时间测试）

**预期结果：**
- ✅ 弹出提示："测试时间已到，系统将自动提交您的答案！"
- ✅ 自动提交测试
- ✅ 跳转到结果页面

### 测试9.3：未填信息
**步骤：**
1. 不填姓名或电话
2. 点击"开始测评"

**预期结果：**
- ✅ 提示："请填写完整的个人信息！"
- ✅ 不进入测试页面

### 测试9.4：手机号格式错误
**步骤：**
1. 输入错误格式的手机号（如：12345678901）
2. 点击"开始测评"

**预期结果：**
- ✅ 提示："请输入正确的手机号码！"
- ✅ 不进入测试页面

---

## 🔧 故障排查

### 问题1：邮件未收到
**检查清单：**
- [ ] 检查垃圾邮件文件夹
- [ ] 按F12查看控制台错误信息
- [ ] 确认EmailJS配置正确
- [ ] 检查网络连接
- [ ] 等待2-3分钟（可能延迟）

### 问题2：进度无法恢复
**检查清单：**
- [ ] 确认浏览器支持localStorage
- [ ] 检查是否是无痕模式（无痕模式不保存）
- [ ] 清除浏览器缓存后重试
- [ ] 更换浏览器测试

### 问题3：计时器不准确
**检查清单：**
- [ ] 检查系统时间是否正确
- [ ] 确认没有修改系统时间
- [ ] 刷新页面重新开始

---

## ✅ 测试完成确认

完成以上所有测试后，请确认：

- [ ] 所有核心功能正常工作
- [ ] 数据保存和恢复功能正常
- [ ] 邮件发送成功，内容完整
- [ ] 保密性设计符合要求
- [ ] 页面保护机制有效
- [ ] 没有明显的Bug或错误

**测试人员签名：__________**  
**测试日期：__________**  
**测试结果：通过 / 不通过**

---

## 📞 报告问题

如果发现问题，请记录：
1. 问题描述
2. 复现步骤
3. 预期结果
4. 实际结果
5. 浏览器和版本
6. 截图或错误信息

**祝测试顺利！** 🎉
