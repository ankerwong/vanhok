<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>万鹤书院｜门牌生成器（A4双门牌）</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <img class="brand__logo" src="images/vanhok-logo.png" alt="万鹤书院 Vanhok Academy Logo" />
        <div class="brand__text">
          <div class="brand__title">门牌生成器</div>
          <div class="brand__subtitle">A4 一页双门牌（A5×2），可直接打印裁切</div>
        </div>
      </div>
      <div class="topbar__actions">
        <a class="link" href="#preview">预览</a>
        <a class="link" href="#help">使用说明</a>
      </div>
    </div>
  </header>

  <main class="container layout">
    <section class="panel panel--form" aria-label="门牌信息输入">
      <h1 class="h1">生成万鹤书院小教室门牌</h1>
      <p class="muted">填写两张门牌信息（可以相同也可以不同）。点击“生成 A4 图片”后会在右侧生成预览，并可下载 PNG 以供打印。</p>

      <form id="signForm" class="form" novalidate>
        <div class="grid2">
          <article class="card">
            <div class="card__head">
              <div class="card__badge">门牌 1</div>
              <div class="card__hint">将出现在 A4 上方</div>
            </div>

            <label class="field">
              <span class="field__label">房号</span>
              <input required name="room1" type="text" placeholder="例如 402A" maxlength="12" />
              <span class="field__error" data-error-for="room1"></span>
            </label>

            <label class="field">
              <span class="field__label">优先使用者（英文）</span>
              <input required name="user1" type="text" placeholder="例如 Hercules To (Student)" maxlength="64" />
              <span class="field__error" data-error-for="user1"></span>
            </label>

            <div class="row2">
              <label class="field">
                <span class="field__label">开始日期</span>
                <input required name="start1" type="date" />
                <span class="field__error" data-error-for="start1"></span>
              </label>
              <label class="field">
                <span class="field__label">结束日期</span>
                <input required name="end1" type="date" />
                <span class="field__error" data-error-for="end1"></span>
              </label>
            </div>
          </article>

          <article class="card">
            <div class="card__head">
              <div class="card__badge">门牌 2</div>
              <div class="card__hint">将出现在 A4 下方</div>
            </div>

            <label class="field">
              <span class="field__label">房号</span>
              <input required name="room2" type="text" placeholder="例如 402A" maxlength="12" />
              <span class="field__error" data-error-for="room2"></span>
            </label>

            <label class="field">
              <span class="field__label">优先使用者（英文）</span>
              <input required name="user2" type="text" placeholder="例如 Hercules To (Student)" maxlength="64" />
              <span class="field__error" data-error-for="user2"></span>
            </label>

            <div class="row2">
              <label class="field">
                <span class="field__label">开始日期</span>
                <input required name="start2" type="date" />
                <span class="field__error" data-error-for="start2"></span>
              </label>
              <label class="field">
                <span class="field__label">结束日期</span>
                <input required name="end2" type="date" />
                <span class="field__error" data-error-for="end2"></span>
              </label>
            </div>
          </article>
        </div>

        <div class="actions">
          <button type="button" class="btn btn--ghost" id="fillExampleBtn">填入示例</button>
          <button type="submit" class="btn btn--primary" id="generateBtn">生成 A4 图片</button>
        </div>

        <div class="note" id="help">
          <div class="note__title">打印提示</div>
          <ul>
            <li>生成画布为 <strong>768×1024px</strong>（约 3:4）。打印时建议在打印对话框选择“适合页面/无缩放”，并关闭页眉页脚。</li>
            <li>若需要严格 A4 尺寸（210×297mm）并获得更精确的物理尺寸，请在后续版本中将导出像素提升至更高分辨率（例如 2480×3508）。</li>
          </ul>
        </div>
      </form>
    </section>

    <section class="panel panel--preview" id="preview" aria-label="预览与下载">
      <div class="previewHead">
        <h2 class="h2">预览</h2>
        <div class="previewHead__actions">
          <button class="btn btn--ghost" id="downloadPngBtn" disabled>下载 PNG</button>
          <button class="btn btn--ghost" id="downloadJpgBtn" disabled>下载 JPG</button>
        </div>
      </div>

      <div class="previewWrap">
        <canvas id="a4Canvas" width="768" height="1024" aria-label="A4 预览画布"></canvas>
        <div class="previewHint" id="previewHint">填写信息后点击“生成 A4 图片”</div>
      </div>

      <div class="meta">
        <div class="meta__item"><span class="meta__k">输出尺寸</span><span class="meta__v">768 × 1024 px</span></div>
        <div class="meta__item"><span class="meta__k">布局</span><span class="meta__v">A5 × 2（上下）</span></div>
        <div class="meta__item"><span class="meta__k">风格</span><span class="meta__v">渐变 + 几何纹理 + 玻璃拟态</span></div>
      </div>

      <details class="details">
        <summary>高级设置</summary>
        <div class="details__body">
          <label class="field">
            <span class="field__label">导出质量（JPG）</span>
            <input id="jpgQuality" type="range" min="0.6" max="1" step="0.05" value="0.92" />
            <span class="field__help">当前：<span id="jpgQualityVal">0.92</span></span>
          </label>
        </div>
      </details>

      <footer class="footnote">
        <span>本页面仅使用浏览器本地生成图片，不上传任何数据。</span>
      </footer>
    </section>
  </main>

  <script src="js/app.js"></script>
</body>
</html>
