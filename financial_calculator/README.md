# 金融课程计算器 - Finance Calculator

一个功能全面的金融课程计算器网页应用，提供专业的金融计算工具集。

## 🎯 项目概述

本项目是一个专业的金融计算器集合，专为金融课程学习和实际应用设计，包含时间价值计算、债券定价、投资项目评估和资本成本计算等核心功能。

## ✨ 已完成功能

### 1. 时间价值计算 (Time Value of Money)
- ✅ **PV (现值计算)**: 根据未来价值、利率和期数计算现值
- ✅ **FV (终值计算)**: 根据现值、利率和期数计算终值
- ✅ **Perpetuity (永续年金)**: 计算永续现金流的现值
- ✅ **Annuity (普通年金)**: 计算期末支付年金的现值
- ✅ **Annuity Due (预付年金)**: 计算期初支付年金的现值

### 2. 债券定价 (Bond Pricing)
- ✅ **Bond Price (债券价格)**: 计算债券的理论价格
  - 支持多种付息频率（年付、半年付、季付、月付）
  - 自动判断债券类型（溢价/折价/平价债券）
  - 详细的现金流折现计算

### 3. 投资项目评估 (Investment Analysis)
- ✅ **NPV (净现值)**: 计算投资项目的净现值
  - 支持任意期数的现金流
  - 详细的每期现值计算
  - 投资决策建议
- ✅ **IRR (内部收益率)**: 使用牛顿迭代法计算IRR
  - 高精度计算
  - 显示迭代次数
  - 项目可行性分析
- ✅ **Profitability Index (盈利指数)**: 计算投资的盈利指数
  - PI值解释
  - NPV关联分析
  - 投资效率评估

### 4. 资本成本计算 (Cost of Capital)
- ✅ **WACC (加权平均资本成本)**: 计算企业资本成本
  - 考虑税盾效应
  - 股权和债务权重分析
  - 详细的成本分解
- ✅ **CAPM (资本资产定价模型)**: 计算预期回报率
  - Beta风险评估
  - 市场风险溢价计算
  - 风险等级分类

## 🚀 功能特点

### 用户体验
- 📱 **响应式设计**: 完美适配桌面、平板和移动设备
- 🎨 **现代化界面**: 渐变色背景、卡片式布局、流畅动画
- 🔍 **实时计算**: 输入数据后即时获得计算结果
- 💡 **示例数据**: 每个计算器都提供示例数据快速填充功能
- ⌨️ **键盘支持**: 回车键计算，Ctrl+数字键切换分类

### 技术特性
- ✨ **纯前端实现**: 无需后端，纯HTML/CSS/JavaScript
- 📊 **精确计算**: 使用标准金融公式，高精度数值计算
- 🎯 **输入验证**: 智能输入验证和错误提示
- 🌐 **中文界面**: 完整的中文界面和公式说明
- 📈 **详细解释**: 每个结果都包含详细的计算步骤和投资建议

### 视觉设计
- 🎨 使用 Inter 字体，专业现代
- 🎭 Font Awesome 图标库，清晰直观
- 🌈 渐变色主题，视觉吸引力强
- 📦 卡片式布局，信息组织清晰
- ⚡ 流畅的动画过渡效果

## 📁 项目结构

```
finance-calculator/
├── index.html              # 主页面
├── css/
│   └── style.css          # 样式表
├── js/
│   ├── calculator.js      # 核心计算函数
│   └── main.js           # 主应用逻辑
└── README.md             # 项目文档
```

## 🎓 使用说明

### 基本操作
1. 打开 `index.html` 启动应用
2. 使用顶部导航栏切换不同的计算器类别
3. 在计算器卡片中输入所需参数
4. 点击"计算"按钮或按回车键获得结果
5. 可点击"填充示例数据"查看示例计算

### 计算器使用示例

#### 现值计算 (PV)
- **用途**: 计算未来一笔钱在今天的价值
- **示例**: 10年后的10000元，年利率5%，今天值多少？
- **输入**: FV=10000, r=5%, n=10
- **结果**: PV ≈ ¥6,139.13

#### 债券价格
- **用途**: 计算债券的理论市场价格
- **示例**: 面值1000元，票面利率6%，YTM 5%，10年期，半年付
- **输出**: 债券价格、溢价/折价判断

#### NPV分析
- **用途**: 评估投资项目是否应该接受
- **规则**: NPV > 0 接受，NPV < 0 拒绝
- **示例**: 初始投资10万，5年现金流3万、3.5万、4万、4.5万、5万

#### WACC计算
- **用途**: 确定企业的最低投资回报率要求
- **应用**: 作为项目折现率，评估投资价值

## 🧮 金融公式说明

### 时间价值
```
PV = FV / (1 + r)^n
FV = PV × (1 + r)^n
Perpetuity = C / r
Annuity = C × [1 - (1 + r)^(-n)] / r
Annuity Due = Annuity × (1 + r)
```

### 债券定价
```
Bond Price = Σ[C / (1+r)^t] + [FV / (1+r)^n]
其中 C = 每期票息, r = YTM, n = 总期数
```

### 投资评估
```
NPV = Σ[CFt / (1+r)^t] - 初始投资
IRR: 使NPV = 0 的折现率
PI = PV(未来现金流) / 初始投资
```

### 资本成本
```
WACC = (E/V × Re) + (D/V × Rd × (1-Tc))
CAPM: Re = Rf + β × (Rm - Rf)
```

## 🎯 功能入口 (URIs)

- **主页**: `index.html`
- **时间价值计算**: `index.html#time-value`
- **债券定价**: `index.html#bond`
- **投资评估**: `index.html#investment`
- **资本成本**: `index.html#capital-cost`

## 📝 待实现功能

暂无。当前版本已包含所有规划的核心功能。

## 🔮 推荐的下一步开发

1. **高级功能**
   - [ ] 添加回收期计算 (Payback Period)
   - [ ] 添加会计收益率 (ARR)
   - [ ] 敏感性分析工具
   - [ ] 情景分析功能

2. **数据管理**
   - [ ] 保存计算历史记录
   - [ ] 导出计算结果为PDF/Excel
   - [ ] 项目对比分析工具

3. **用户体验**
   - [ ] 深色模式切换
   - [ ] 多语言支持（英文版本）
   - [ ] 计算结果图表可视化
   - [ ] 公式详细推导说明

4. **教育功能**
   - [ ] 添加计算步骤详解
   - [ ] 提供练习题库
   - [ ] 金融概念词汇表
   - [ ] 视频教程链接

5. **技术优化**
   - [ ] 添加单元测试
   - [ ] PWA支持（离线使用）
   - [ ] 性能优化
   - [ ] 打印友好样式

## 🛠️ 技术栈

- **HTML5**: 语义化标记
- **CSS3**: Flexbox/Grid布局，动画效果
- **JavaScript (ES6+)**: 核心计算逻辑
- **Font Awesome 6**: 图标库
- **Google Fonts**: Inter 字体

## 📊 数据模型

本项目不使用数据库，所有计算都在客户端实时进行。未来如需保存数据，可考虑：
- LocalStorage: 存储用户偏好和历史记录
- RESTful Table API: 存储项目数据和用户计算历史

## 🌐 部署说明

本项目是纯静态网站，可部署到任何静态托管服务：
- GitHub Pages
- Netlify
- Vercel
- 或任何Web服务器

## 📄 许可证

本项目仅供学习和参考使用。

## 👨‍💻 开发说明

### 文件职责
- `index.html`: 页面结构和UI组件
- `css/style.css`: 所有样式和响应式设计
- `js/calculator.js`: 金融计算核心函数
- `js/main.js`: UI交互和应用逻辑

### 添加新计算器
1. 在 `index.html` 对应section中添加calculator-card
2. 在 `calculator.js` 中实现计算函数
3. 在 `main.js` 的examples中添加示例数据

## 🐛 已知问题

无已知严重问题。

## 📞 反馈与支持

如有问题或建议，欢迎通过以下方式反馈：
- 提交 Issue
- 发送邮件

---

**版本**: 1.0.0  
**最后更新**: 2024年11月  
**状态**: ✅ 生产就绪
